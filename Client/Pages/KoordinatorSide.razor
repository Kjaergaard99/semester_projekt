@using System;
@using System.Net;
@using semester_projekt.Shared.Models;
@using System;
@using Dapper;
@using Npgsql;
@using semester_projekt.Client.Services;
@using System.Net.Http;

@page "/koordinator"

<h3>Vagter</h3>

<div>
    <table class="vagter">
        <tr>
            <th>Vagt ID</th>
            <th>Dato</th>
            <th>Vagt start</th>
            <th>Vagt slut</th>
            <th>Pause</th>
            <th>Område</th>
            <th>Opgave ID</th> <!--Dette skal evt laves til en join m. OpgaveBeskrivelse i stedet-->
            <th>Er booket?</th>
            <th>Bruger ID</th>
        </tr>
        <tr>
            <td>4</td>
            <td>2022-01-01</td>
            <td>10:00:00</td>
            <td>12:00:00</td>
            <td>0</td>
            <td>Cafe</td>
            <td>1</td>
            <td>True</td>
            <td>2</td>
        </tr>
        <tr>
            <td>5</td>
            <td>2022-02-02</td>
            <td>20:00:00</td>
            <td>22:00:00</td>
            <td>0</td>
            <td>Billetkontrol</td>
            <td>1</td>
            <td>False</td>
            <td>Null</td>
        </tr>
    </table>

    <table class="frivillige">
        @foreach (var bruger in Brugere)
        {
            <tr>
                <th>Bruger ID</th>
                <th>Bruger Navn</th>
                <th>Bruger Email</th>
                <th>Rolle ID</th>
            </tr>
            <tr>
                <td>@bruger.BrugerId</td>
                <td>@bruger.BrugerNavn</td>
                <td>@bruger.BrugerEmail</td>
                <td>@bruger.RolleId</td>
            </tr>
        }
    </table>


</div>



@code {
    private List<Bruger> Brugere = new List<Bruger>();

    private Bruger Bruger = new Bruger();

    [Inject]
    public IKoordinatorService KoordinatorService { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Brugere = (await KoordinatorService.GetAlleFrivillige()).ToList();
    }


}

